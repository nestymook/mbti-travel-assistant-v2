{
  "enhanced_status_check_system": {
    "dual_monitoring_enabled": true,
    "global_settings": {
      "check_interval_seconds": 10,
      "max_concurrent_checks": 50,
      "retry_attempts": 5,
      "circuit_breaker_enabled": true
    },
    "servers": [
      {
        "server_name": "ha-restaurant-search-us-east-1a",
        "mcp_endpoint_url": "https://restaurant-search-1a.prod.company.com/mcp",
        "rest_health_endpoint_url": "https://restaurant-search-1a.prod.company.com/status/health",
        "mcp_enabled": true,
        "mcp_timeout_seconds": 8,
        "mcp_expected_tools": [
          "search_restaurants_by_district",
          "search_restaurants_by_meal_type",
          "recommend_restaurants"
        ],
        "mcp_retry_attempts": 5,
        "rest_enabled": true,
        "rest_timeout_seconds": 6,
        "rest_retry_attempts": 3,
        "jwt_token": "${PROD_JWT_TOKEN}",
        "auth_headers": {
          "Authorization": "Bearer ${PROD_JWT_TOKEN}",
          "X-API-Key": "${PROD_API_KEY}",
          "X-Availability-Zone": "us-east-1a"
        },
        "mcp_priority_weight": 0.8,
        "rest_priority_weight": 0.2,
        "require_both_success": true
      },
      {
        "server_name": "ha-restaurant-search-us-east-1b",
        "mcp_endpoint_url": "https://restaurant-search-1b.prod.company.com/mcp",
        "rest_health_endpoint_url": "https://restaurant-search-1b.prod.company.com/status/health",
        "mcp_enabled": true,
        "mcp_timeout_seconds": 8,
        "mcp_expected_tools": [
          "search_restaurants_by_district",
          "search_restaurants_by_meal_type",
          "recommend_restaurants"
        ],
        "rest_enabled": true,
        "rest_timeout_seconds": 6,
        "jwt_token": "${PROD_JWT_TOKEN}",
        "auth_headers": {
          "Authorization": "Bearer ${PROD_JWT_TOKEN}",
          "X-API-Key": "${PROD_API_KEY}",
          "X-Availability-Zone": "us-east-1b"
        },
        "mcp_priority_weight": 0.8,
        "rest_priority_weight": 0.2,
        "require_both_success": true
      },
      {
        "server_name": "ha-restaurant-search-us-east-1c",
        "mcp_endpoint_url": "https://restaurant-search-1c.prod.company.com/mcp",
        "rest_health_endpoint_url": "https://restaurant-search-1c.prod.company.com/status/health",
        "mcp_enabled": true,
        "mcp_timeout_seconds": 8,
        "mcp_expected_tools": [
          "search_restaurants_by_district",
          "search_restaurants_by_meal_type",
          "recommend_restaurants"
        ],
        "rest_enabled": true,
        "rest_timeout_seconds": 6,
        "jwt_token": "${PROD_JWT_TOKEN}",
        "auth_headers": {
          "Authorization": "Bearer ${PROD_JWT_TOKEN}",
          "X-API-Key": "${PROD_API_KEY}",
          "X-Availability-Zone": "us-east-1c"
        },
        "mcp_priority_weight": 0.8,
        "rest_priority_weight": 0.2,
        "require_both_success": true
      },
      {
        "server_name": "ha-reasoning-service-primary",
        "mcp_endpoint_url": "https://reasoning-primary.prod.company.com/mcp",
        "rest_health_endpoint_url": "https://reasoning-primary.prod.company.com/status/health",
        "mcp_enabled": true,
        "mcp_timeout_seconds": 10,
        "mcp_expected_tools": [
          "analyze_restaurant_results",
          "generate_recommendations",
          "rank_restaurants"
        ],
        "rest_enabled": true,
        "rest_timeout_seconds": 8,
        "jwt_token": "${PROD_JWT_TOKEN}",
        "auth_headers": {
          "Authorization": "Bearer ${PROD_JWT_TOKEN}",
          "X-API-Key": "${PROD_API_KEY}",
          "X-Service-Tier": "primary"
        },
        "mcp_priority_weight": 0.9,
        "rest_priority_weight": 0.1,
        "require_both_success": true
      },
      {
        "server_name": "ha-reasoning-service-secondary",
        "mcp_endpoint_url": "https://reasoning-secondary.prod.company.com/mcp",
        "rest_health_endpoint_url": "https://reasoning-secondary.prod.company.com/status/health",
        "mcp_enabled": true,
        "mcp_timeout_seconds": 12,
        "mcp_expected_tools": [
          "analyze_restaurant_results",
          "generate_recommendations"
        ],
        "rest_enabled": true,
        "rest_timeout_seconds": 10,
        "jwt_token": "${PROD_JWT_TOKEN}",
        "auth_headers": {
          "Authorization": "Bearer ${PROD_JWT_TOKEN}",
          "X-API-Key": "${PROD_API_KEY}",
          "X-Service-Tier": "secondary"
        },
        "mcp_priority_weight": 0.7,
        "rest_priority_weight": 0.3,
        "require_both_success": false
      },
      {
        "server_name": "ha-load-balancer-health",
        "mcp_endpoint_url": "https://lb.prod.company.com/mcp",
        "rest_health_endpoint_url": "https://lb.prod.company.com/status/health",
        "mcp_enabled": true,
        "mcp_timeout_seconds": 5,
        "mcp_expected_tools": [
          "get_backend_status",
          "route_request"
        ],
        "rest_enabled": true,
        "rest_timeout_seconds": 3,
        "jwt_token": "${PROD_JWT_TOKEN}",
        "auth_headers": {
          "Authorization": "Bearer ${PROD_JWT_TOKEN}",
          "X-API-Key": "${PROD_API_KEY}",
          "X-Component": "load-balancer"
        },
        "mcp_priority_weight": 0.5,
        "rest_priority_weight": 0.5,
        "require_both_success": false
      }
    ],
    "mcp_health_checks": {
      "enabled": true,
      "default_timeout_seconds": 8,
      "tools_list_validation": true,
      "expected_tools_validation": true,
      "json_rpc_version": "2.0",
      "connection_pool_size": 30,
      "keep_alive_enabled": true,
      "retry_policy": {
        "max_attempts": 5,
        "backoff_multiplier": 1.5,
        "initial_delay_seconds": 0.2,
        "max_delay_seconds": 10.0
      }
    },
    "rest_health_checks": {
      "enabled": true,
      "default_timeout_seconds": 6,
      "health_endpoint_path": "/status/health",
      "metrics_endpoint_path": "/status/metrics",
      "expected_status_codes": [200, 201],
      "connection_pool_size": 40,
      "retry_policy": {
        "max_attempts": 3,
        "backoff_multiplier": 1.3,
        "initial_delay_seconds": 0.1,
        "max_delay_seconds": 5.0
      }
    },
    "result_aggregation": {
      "mcp_priority_weight": 0.8,
      "rest_priority_weight": 0.2,
      "require_both_success_for_healthy": false,
      "degraded_on_single_failure": false,
      "health_score_calculation": "weighted_average",
      "failure_threshold_percentage": 20
    },
    "authentication": {
      "jwt_enabled": true,
      "jwt_discovery_url": "https://cognito-idp.us-east-1.amazonaws.com/us-east-1_KePRX24Bn/.well-known/openid-configuration",
      "jwt_audience": "1ofgeckef3po4i3us4j1m4chvd",
      "jwt_issuer": "https://cognito-idp.us-east-1.amazonaws.com/us-east-1_KePRX24Bn",
      "token_refresh_enabled": true,
      "token_cache_ttl_seconds": 3600,
      "api_key_header": "X-API-Key",
      "custom_headers": {
        "User-Agent": "Enhanced-MCP-Status-Check-HA/1.0",
        "X-Environment": "production",
        "X-Deployment-Type": "high-availability"
      }
    },
    "circuit_breaker": {
      "enabled": true,
      "failure_threshold": 15,
      "success_threshold": 8,
      "timeout_seconds": 60,
      "half_open_max_calls": 5,
      "failure_rate_threshold": 0.3,
      "minimum_requests": 50,
      "adaptive_thresholds": true
    },
    "metrics_collection": {
      "enabled": true,
      "collection_interval_seconds": 5,
      "max_history_entries": 50000,
      "cleanup_interval_seconds": 1800,
      "detailed_metrics": true,
      "performance_metrics": true,
      "availability_metrics": true
    },
    "observability": {
      "logging_level": "INFO",
      "debug_mode": false,
      "request_response_logging": false,
      "metrics_enabled": true,
      "prometheus_enabled": true,
      "health_check_endpoint": "/health",
      "metrics_endpoint": "/metrics",
      "tracing_enabled": true,
      "alerting_enabled": true,
      "dashboard_enabled": true
    },
    "performance_optimization": {
      "connection_pooling": true,
      "request_batching": true,
      "response_caching": {
        "enabled": true,
        "ttl_seconds": 30,
        "max_cache_size": 5000
      },
      "async_processing": true,
      "load_balancing": true,
      "resource_limits": {
        "max_memory_mb": 1024,
        "max_cpu_percent": 70
      }
    },
    "high_availability": {
      "multi_region_support": true,
      "failover_enabled": true,
      "health_check_redundancy": true,
      "automatic_recovery": true,
      "disaster_recovery": {
        "enabled": true,
        "backup_interval_seconds": 300,
        "recovery_timeout_seconds": 60
      }
    },
    "alerting": {
      "enabled": true,
      "webhook_url": "${SLACK_WEBHOOK_URL}",
      "pagerduty_integration_key": "${PAGERDUTY_KEY}",
      "email_notifications": "${ALERT_EMAIL}",
      "alert_thresholds": {
        "critical_failure_rate": 0.5,
        "warning_failure_rate": 0.2,
        "response_time_warning_ms": 2000,
        "response_time_critical_ms": 5000,
        "availability_warning_percent": 95,
        "availability_critical_percent": 90
      },
      "escalation_policy": {
        "immediate": ["slack", "email"],
        "after_5_minutes": ["pagerduty"],
        "after_15_minutes": ["phone", "sms"]
      }
    }
  }
}